ARG DOCKER_BASE_IMAGE
FROM ${DOCKER_BASE_IMAGE}

ARG DOCKER_OS_LANG
ARG DOCKER_OS_LC_ALL
ARG APP_NAME
ARG APP_VERSION
ARG APP_BINARY

ENV LANG ${DOCKER_OS_LANG}
ENV LC_ALL ${DOCKER_OS_LC_ALL}

RUN pacman --noconfirm -Syu
RUN pacman --noconfirm -Sy unzip

RUN curl -o /tmp/${APP_NAME}-${APP_VERSION} ${APP_BINARY}
RUN cd /tmp && unzip /tmp/${APP_NAME}-${APP_VERSION} && cd -
RUN rm /tmp/${APP_NAME}-${APP_VERSION}
RUN chmod +x /tmp/${APP_NAME}
RUN mv /tmp/${APP_NAME} /bin/${APP_NAME}
RUN mkdir -p /opt/${APP_NAME}

WORKDIR /opt/${APP_NAME}
